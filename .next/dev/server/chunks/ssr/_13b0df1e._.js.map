{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\" // 1. useRouter를 import 합니다.\nimport { useAuth } from \"@/lib/auth-context\" // 2. useAuth hook을 import 합니다.\n\n// 3. 페이지로부터 'onLogin', 'onSignup' 함수를 props로 받습니다.\ninterface HeaderProps {\n  onLogin: () => void\n  onSignup: () => void\n}\n\nexport default function Header({ onLogin, onSignup }: HeaderProps) {\n  const { user, logout } = useAuth() // 4. 로그인 상태와 로그아웃 함수는 context에서 가져옵니다.\n  const router = useRouter()\n\n  // 5. 실제 로그인 여부를 확인합니다. (익명 사용자가 아닌 경우)\n  const isAuthenticated = !!user && !user.isAnonymous\n\n  // 6. 로그아웃 함수\n  const handleLogout = async () => {\n    await logout()\n    router.push(\"/\") // 로그아웃 후 홈으로 이동\n  }\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-white border-b border-gray-200\">\n      <div className=\"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between\">\n        <Link href=\"/\" className=\"flex items-center gap-2\">\n          <div className=\"text-2xl font-bold\">\n            <span className=\"text-gray-900\">promstudy</span>\n          </div>\n        </Link>\n\n        <button className=\"md:hidden text-gray-600\">\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </button>\n\n        <nav className=\"hidden md:flex items-center gap-4\">\n          {isAuthenticated ? (\n            <>\n              <Link href=\"/my-page\" className=\"text-gray-600 hover:text-gray-900\">\n                MY PAGE\n              </Link>\n              <Link href=\"/upload\" className=\"text-gray-600 hover:text-gray-900\">\n                UPLOAD\n              </Link>\n              <button onClick={handleLogout} className=\"px-4 py-2 text-gray-600 hover:text-gray-900\">\n                LOGOUT\n              </button>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={onLogin} // 7. props로 받은 onLogin 함수를 사용합니다.\n                className=\"px-3 py-1.5 text-sm rounded-full bg-[#9DB78C] text-white hover:bg-[#8AA876] font-medium\"\n              >\n                로그인\n              </button>\n              <button\n                onClick={onSignup} // 8. props로 받은 onSignup 함수를 사용합니다.\n                className=\"px-3 py-1.5 text-sm rounded-full bg-[#9DB78C] text-white hover:bg-[#8AA876] font-medium\"\n              >\n                회원가입\n              </button>\n            </>\n          )}\n        </nav>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA,sOAA4C,4BAA4B;AACxE,gNAA6C,+BAA+B;AAJ5E;;;;;AAYe,SAAS,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAe;IAC/D,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,kIAAO,IAAG,uCAAuC;;IAC1E,MAAM,SAAS,IAAA,+IAAS;IAExB,uCAAuC;IACvC,MAAM,kBAAkB,CAAC,CAAC,QAAQ,CAAC,KAAK,WAAW;IAEnD,aAAa;IACb,MAAM,eAAe;QACnB,MAAM;QACN,OAAO,IAAI,CAAC,MAAK,gBAAgB;IACnC;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BACvB,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAAgB;;;;;;;;;;;;;;;;8BAIpC,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;8BAIzE,8OAAC;oBAAI,WAAU;8BACZ,gCACC;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAoC;;;;;;0CAGpE,8OAAC,uKAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAoC;;;;;;0CAGnE,8OAAC;gCAAO,SAAS;gCAAc,WAAU;0CAA8C;;;;;;;qDAKzF;;0CACE,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/components/footer.tsx"],"sourcesContent":["export default function Footer() {\n  return (\n    <footer className=\"bg-gray-50 border-t border-gray-200 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 text-center text-gray-600 text-sm\">\n        <p>&copy; 2025 promstudy. All rights reserved.</p>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;0BAAE;;;;;;;;;;;;;;;;AAIX","debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/components/auth-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState } from 'react'\nimport { useAuth, UserProfile } from '@/lib/auth-context' // Import auth hook and profile type\n\ninterface AuthModalProps {\n  mode: 'login' | 'signup'\n  onClose: () => void\n  // 'onSuccess' prop is no longer needed, as the auth context handles this\n}\n\ntype ProfileData = Omit<UserProfile, 'email'>\n\nexport default function AuthModal({ mode, onClose }: AuthModalProps) {\n  const [currentMode, setCurrentMode] = useState(mode)\n  const [step, setStep] = useState(1) // For multi-step signup\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState<string | null>(null)\n  const [loading, setLoading] = useState(false)\n\n  // State for Step 2 profile data\n  const [profile, setProfile] = useState<ProfileData>({\n    name: '',\n    gender: '',\n    age: '',\n    school: '',\n    studentId: '',\n  })\n\n  const { login, signupAndCreateProfile } = useAuth()\n\n  const handleProfileChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target\n    setProfile((prev) => ({ ...prev, [name]: value }))\n  }\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(null)\n    setLoading(true)\n    try {\n      await login(email, password)\n      onClose() // Close modal on success\n    } catch (err) {\n      // Firebase 에러 메시지를 사용자 친화적으로 변경\n      let message = (err as Error).message\n      if (message.includes('auth/invalid-credential')) {\n        message = '이메일 또는 비밀번호가 일치하지 않습니다.'\n      } else if (message.includes('auth/user-not-found')) {\n        message = '존재하지 않는 사용자입니다.'\n      }\n      setError(message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleSignupStep1 = (e: React.FormEvent) => {\n    e.preventDefault()\n    // Basic validation\n    if (!email || !password) {\n      setError('이메일과 비밀번호를 모두 입력해 주세요.')\n      return\n    }\n    if (password.length < 6) {\n      setError('비밀번호는 6자리 이상이어야 합니다.')\n      return\n    }\n    setError(null)\n    setStep(2) // Move to step 2\n  }\n\n  const handleSignupStep2 = async (e: React.FormEvent) => {\n    e.preventDefault()\n    // Check if all fields are filled\n    const allFieldsFilled = Object.values(profile).every(field => field.trim() !== '');\n    if (!allFieldsFilled) {\n      setError('모든 프로필 정보를 입력해 주세요.');\n      return;\n    }\n\n    setError(null)\n    setLoading(true)\n    try {\n      // Call the new function from context\n      await signupAndCreateProfile(email, password, profile)\n      onClose() // Close modal on success (auto-login)\n    } catch (err) {\n      let message = (err as Error).message\n      if (message.includes('auth/email-already-in-use')) {\n        message = '이미 사용 중인 이메일입니다.'\n        setStep(1); // Go back to step 1\n      }\n      setError(message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // 모달 뒷배경 클릭 시 닫기 (로딩 중 아닐 때)\n  const handleBackdropClick = () => {\n    if (!loading) {\n      onClose()\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\" onClick={handleBackdropClick}>\n      <div className=\"bg-white rounded-lg shadow-xl p-8 w-full max-w-md\" onClick={(e) => e.stopPropagation()}>\n        <h2 className=\"text-2xl font-bold text-center mb-6\">\n          {currentMode === 'login'\n            ? '로그인'\n            : '회원가입'}\n        </h2>\n\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n\n        {/* --- LOGIN FORM / SIGNUP STEP 1 --- */}\n        {step === 1 && (\n          <form onSubmit={currentMode === 'login' ? handleLogin : handleSignupStep1}>\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">이메일</label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"\n                required\n              />\n            </div>\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">비밀번호</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"\n                required\n                maxLength={72}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-[#9DB78C] text-white py-2 rounded-md hover:bg-[#8AA876] disabled:opacity-50\"\n            >\n              {loading\n                ? '처리 중...'\n                : currentMode === 'login'\n                ? '로그인'\n                : '다음'}\n            </button>\n          </form>\n        )}\n\n        {/* --- SIGNUP STEP 2 (PROFILE) --- */}\n        {currentMode === 'signup' && step === 2 && (\n          <form onSubmit={handleSignupStep2}>\n            <p className=\"text-sm text-gray-600 mb-4\">마지막 단계입니다. 프로필을 완성해 주세요.</p>\n            \n            {/* Input fields for profile data */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">이름</label>\n                <input type=\"text\" name=\"name\" value={profile.name} onChange={handleProfileChange} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" required />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">성별</label>\n                <select name=\"gender\" value={profile.gender} onChange={handleProfileChange} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" required>\n                  <option value=\"\">선택</option>\n                  <option value=\"male\">남성</option>\n                  <option value=\"female\">여성</option>\n                  <option value=\"other\">기타</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">나이</label>\n              <input type=\"number\" name=\"age\" value={profile.age} onChange={handleProfileChange} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" required />\n            </div>\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">학교</label>\n              <input type=\"text\" name=\"school\" value={profile.school} onChange={handleProfileChange} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" required />\n            </div>\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">학번</label>\n              <input type=\"text\" name=\"studentId\" value={profile.studentId} onChange={handleProfileChange} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" required />\n            </div>\n\n            <div className=\"flex gap-4\">\n              <button\n                type=\"button\"\n                onClick={() => setStep(1)} // \"이전\" 버튼\n                disabled={loading}\n                className=\"w-1/2 bg-gray-200 text-gray-700 py-2 rounded-md hover:bg-gray-300\"\n              >\n                이전\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-1/2 bg-[#9DB78C] text-white py-2 rounded-md hover:bg-[#8AA876] disabled:opacity-50\"\n              >\n                {loading ? '가입 중...' : '회원가입 완료'}\n              </button>\n            </div>\n          </form>\n        )}\n\n        <div className=\"text-center mt-6\">\n          {currentMode === 'login' ? (\n            <p className=\"text-sm text-gray-600\">\n              계정이 없으신가요?{' '}\n              <button onClick={() => setCurrentMode('signup')} className=\"text-[#9DB78C] font-medium\">\n                회원가입\n              </button>\n            </p>\n          ) : (\n            <p className=\"text-sm text-gray-600\">\n              계정이 있으신가요?{' '}\n              <button onClick={() => { setCurrentMode('login'); setStep(1); }} className=\"text-[#9DB78C] font-medium\">\n                로그인\n              </button>\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 689, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/app/upload/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState } from \"react\" // 1. React import\nimport { useRouter } from \"next/navigation\" // ★★★ 1. useRouter import ★★★\nimport Header from \"@/components/header\"\nimport Footer from \"@/components/footer\"\nimport AuthModal from \"@/components/auth-modal\"\nimport { useAuth } from \"@/lib/auth-context\" // 2. '전역 관리자' import\n\nexport default function UploadPage() {\n  const router = useRouter() // ★★★ 2. useRouter 훅 선언 ★★★\n  const [authModal, setAuthModal] = useState<\"login\" | \"signup\" | null>(null)\n  \n  // 3. '전역 관리자'로부터 실제 로그인 정보 가져오기\n  const { user, loading } = useAuth()\n  \n  // 4. 'useState(false)'를 삭제하고, 실제 user 정보로 로그인 상태 결정\n  const isAuthenticated = !!user && !user.isAnonymous\n\n  const [title, setTitle] = useState(\"\")\n  const [content, setContent] = useState(\"\")\n  const [showSuccess, setShowSuccess] = useState(false) // 5. 'alert' 대신 사용할 성공 메시지 상태\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    // TODO: 여기에 실제 업로드 로직(예: API 호출)을 추가합니다.\n    console.log(\"Uploading:\", { title, content })\n\n    // 6. 'alert' 대신 성공 메시지 표시\n    setShowSuccess(true)\n    setTitle(\"\")\n    setContent(\"\")\n    // 3초 후에 메시지 숨기기\n    setTimeout(() => {\n      setShowSuccess(false)\n    }, 3000)\n  }\n\n  // 7. 로딩 중일 때 빈 화면 대신 로딩 표시\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        Loading...\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <Header\n        onLogin={() => setAuthModal(\"login\")}\n        onSignup={() => setAuthModal(\"signup\")}\n      />\n\n      <main className=\"min-h-screen bg-white py-12\">\n        <div className=\"max-w-2xl mx-auto px-4\">\n          \n          {/* ★★★ 3. 뒤로가기 버튼 추가 ★★★ */}\n          <button \n            onClick={() => router.back()} \n            className=\"flex items-center gap-1 text-gray-600 hover:text-gray-900 mb-6\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            뒤로가기\n          </button>\n          \n          <h1 className=\"text-3xl font-bold mb-8\">프롬프트 업로드</h1>\n\n          {isAuthenticated ? (\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* 9. 업로드 성공 메시지 표시 */}\n              {showSuccess && (\n                <div className=\"p-3 bg-green-100 text-green-700 rounded-lg\">\n                  프롬프트가 업로드되었습니다!\n                </div>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">제목</label>\n                <input\n                  type=\"text\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  placeholder=\"프롬프트 제목을 입력하세요\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9DB78C]\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">내용</label>\n                <textarea\n                  value={content}\n                  onChange={(e) => setContent(e.target.value)}\n                  placeholder=\"프롬프트 내용을 입력하세요\"\n                  rows={10}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#9DB78C]\"\n                  required\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                className=\"w-full py-3 bg-[#9DB78C] text-white rounded-lg font-medium hover:bg-[#8AA876]\"\n              >\n                업로드\n              </button>\n            </form>\n          ) : (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-600 mb-6\">로그인 후 프롬프트를 업로드할 수 있습니다.</p>\n              <button\n                onClick={() => setAuthModal(\"login\")}\n                className=\"px-6 py-2 bg-[#9DB78C] text-white rounded-lg font-medium hover:bg-[#8AA876]\"\n              >\n                로그인\n              </button>\n            </div>\n          )}\n        </div>\n      </main>\n\n      {authModal && (\n        <AuthModal\n          mode={authModal}\n          onClose={() => setAuthModal(null)}\n        />\n      )}\n\n      <Footer />\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA,oVAAwC,kBAAkB;AAC1D,sOAA4C,8BAA8B;AAC1E;AACA;AACA;AACA,gNAA6C,qBAAqB;AAPlE;;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS,IAAG,4BAA4B;;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA4B;IAEtE,gCAAgC;IAChC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kIAAO;IAEjC,oDAAoD;IACpD,MAAM,kBAAkB,CAAC,CAAC,QAAQ,CAAC,KAAK,WAAW;IAEnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,OAAO,8BAA8B;;IAEpF,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,yCAAyC;QACzC,QAAQ,GAAG,CAAC,cAAc;YAAE;YAAO;QAAQ;QAE3C,0BAA0B;QAC1B,eAAe;QACf,SAAS;QACT,WAAW;QACX,gBAAgB;QAChB,WAAW;YACT,eAAe;QACjB,GAAG;IACL;IAEA,2BAA2B;IAC3B,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBAAgD;;;;;;IAInE;IAEA,qBACE;;0BACE,8OAAC,gIAAM;gBACL,SAAS,IAAM,aAAa;gBAC5B,UAAU,IAAM,aAAa;;;;;;0BAG/B,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCAGb,8OAAC;4BACC,SAAS,IAAM,OAAO,IAAI;4BAC1B,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CACjE,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;gCACjE;;;;;;;sCAIR,8OAAC;4BAAG,WAAU;sCAA0B;;;;;;wBAEvC,gCACC,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;gCAErC,6BACC,8OAAC;oCAAI,WAAU;8CAA6C;;;;;;8CAK9D,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,8OAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,aAAY;4CACZ,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAIZ,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAChE,8OAAC;4CACC,OAAO;4CACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4CAC1C,aAAY;4CACZ,MAAM;4CACN,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAIZ,8OAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;iDAKH,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAClC,8OAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YAQR,2BACC,8OAAC,uIAAS;gBACR,MAAM;gBACN,SAAS,IAAM,aAAa;;;;;;0BAIhC,8OAAC,gIAAM;;;;;;;AAGb","debugId":null}}]
}