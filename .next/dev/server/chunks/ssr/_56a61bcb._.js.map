{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/lib/api.ts"],"sourcesContent":["export const API_URL = \"http://127.0.0.1:8000\";"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU","debugId":null}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\" // 1. useRouterÎ•º import Ìï©ÎãàÎã§.\nimport { useAuth } from \"@/lib/auth-context\" // 2. useAuth hookÏùÑ import Ìï©ÎãàÎã§.\n\n// 3. ÌéòÏù¥ÏßÄÎ°úÎ∂ÄÌÑ∞ 'onLogin', 'onSignup' Ìï®ÏàòÎ•º propsÎ°ú Î∞õÏäµÎãàÎã§.\ninterface HeaderProps {\n  onLogin: () => void\n  onSignup: () => void\n}\n\nexport default function Header({ onLogin, onSignup }: HeaderProps) {\n  const { user, logout } = useAuth() // 4. Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÏôÄ Î°úÍ∑∏ÏïÑÏõÉ Ìï®ÏàòÎäî contextÏóêÏÑú Í∞ÄÏ†∏ÏòµÎãàÎã§.\n  const router = useRouter()\n\n  // 5. Ïã§Ï†ú Î°úÍ∑∏Ïù∏ Ïó¨Î∂ÄÎ•º ÌôïÏù∏Ìï©ÎãàÎã§. (ÏùµÎ™Ö ÏÇ¨Ïö©ÏûêÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞)\n  const isAuthenticated = !!user && !user.isAnonymous\n\n  // 6. Î°úÍ∑∏ÏïÑÏõÉ Ìï®Ïàò\n  const handleLogout = async () => {\n    await logout()\n    router.push(\"/\") // Î°úÍ∑∏ÏïÑÏõÉ ÌõÑ ÌôàÏúºÎ°ú Ïù¥Îèô\n  }\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-white border-b border-gray-200\">\n      <div className=\"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between\">\n        <Link href=\"/\" className=\"flex items-center gap-2\">\n          <div className=\"text-2xl font-bold\">\n            <span className=\"text-gray-900\">promstudy</span>\n          </div>\n        </Link>\n\n        <button className=\"md:hidden text-gray-600\">\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </button>\n\n        <nav className=\"hidden md:flex items-center gap-4\">\n          {isAuthenticated ? (\n            <>\n              <Link href=\"/my-page\" className=\"text-gray-600 hover:text-gray-900\">\n                MY PAGE\n              </Link>\n              <Link href=\"/upload\" className=\"text-gray-600 hover:text-gray-900\">\n                UPLOAD\n              </Link>\n              <button onClick={handleLogout} className=\"px-4 py-2 text-gray-600 hover:text-gray-900\">\n                LOGOUT\n              </button>\n            </>\n          ) : (\n            <>\n              <button\n                onClick={onLogin} // 7. propsÎ°ú Î∞õÏùÄ onLogin Ìï®ÏàòÎ•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.\n                className=\"px-3 py-1.5 text-sm rounded-full bg-[#9DB78C] text-white hover:bg-[#8AA876] font-medium\"\n              >\n                Î°úÍ∑∏Ïù∏\n              </button>\n              <button\n                onClick={onSignup} // 8. propsÎ°ú Î∞õÏùÄ onSignup Ìï®ÏàòÎ•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.\n                className=\"px-3 py-1.5 text-sm rounded-full bg-[#9DB78C] text-white hover:bg-[#8AA876] font-medium\"\n              >\n                ÌöåÏõêÍ∞ÄÏûÖ\n              </button>\n            </>\n          )}\n        </nav>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA,sOAA4C,4BAA4B;AACxE,gNAA6C,+BAA+B;AAJ5E;;;;;AAYe,SAAS,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAe;IAC/D,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,kIAAO,IAAG,uCAAuC;;IAC1E,MAAM,SAAS,IAAA,+IAAS;IAExB,uCAAuC;IACvC,MAAM,kBAAkB,CAAC,CAAC,QAAQ,CAAC,KAAK,WAAW;IAEnD,aAAa;IACb,MAAM,eAAe;QACnB,MAAM;QACN,OAAO,IAAI,CAAC,MAAK,gBAAgB;IACnC;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BACvB,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAAgB;;;;;;;;;;;;;;;;8BAIpC,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;8BAIzE,8OAAC;oBAAI,WAAU;8BACZ,gCACC;;0CACE,8OAAC,uKAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAoC;;;;;;0CAGpE,8OAAC,uKAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAoC;;;;;;0CAGnE,8OAAC;gCAAO,SAAS;gCAAc,WAAU;0CAA8C;;;;;;;qDAKzF;;0CACE,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/components/footer.tsx"],"sourcesContent":["export default function Footer() {\n  return (\n    <footer className=\"bg-gray-50 border-t border-gray-200 py-8\">\n      <div className=\"max-w-6xl mx-auto px-4 text-center text-gray-600 text-sm\">\n        <p>&copy; 2025 promstudy. All rights reserved.</p>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;0BAAE;;;;;;;;;;;;;;;;AAIX","debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/prompt/app/my-page/page.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { useAuth } from '@/lib/auth-context'\nimport { API_URL } from '@/lib/api'\nimport Header from '@/components/header'\nimport Footer from '@/components/footer'\nimport Link from 'next/link'\n\n// Interface for Prompt data (should match the one in app/page.tsx or be centralized)\ninterface Prompt {\n  id: number\n  title: string\n  content: string\n  owner_id: number\n  created_at: string\n  likes: number\n  dislikes: number\n}\n\nexport default function MyUploadsPage() {\n  const router = useRouter()\n  const { user, loading: authLoading } = useAuth()\n  const [prompts, setPrompts] = useState<Prompt[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [voteLoading, setVoteLoading] = useState<number | null>(null);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login') // Redirect to login if not authenticated\n      return\n    }\n\n    if (user) {\n      const fetchMyPrompts = async () => {\n        setLoading(true)\n        setError(null)\n        try {\n          const token = localStorage.getItem('accessToken')\n          if (!token) {\n            throw new Error('Ïù∏Ï¶ù ÌÜ†ÌÅ∞ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî.')\n          }\n\n          const response = await fetch(`${API_URL}/users/me/prompts/`, {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n            },\n          })\n\n          if (!response.ok) {\n            if (response.status === 401) {\n              throw new Error('Ïù∏Ï¶ùÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî.')\n            }\n            throw new Error('ÎÇ¥ ÌîÑÎ°¨ÌîÑÌä∏ Î™©Î°ùÏùÑ Í∞ÄÏ†∏Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.')\n          }\n\n          const data: Prompt[] = await response.json()\n          setPrompts(data)\n        } catch (err) {\n          setError((err as Error).message)\n        } finally {\n          setLoading(false)\n        }\n      }\n      fetchMyPrompts()\n    }\n  }, [user, authLoading, router])\n\n  const handleVote = async (promptId: number, voteType: 'like' | 'dislike') => {\n    setVoteLoading(promptId);\n    setError(null);\n\n    const token = localStorage.getItem('accessToken');\n    if (!token) {\n        setError(\"Ïù∏Ï¶ù ÌÜ†ÌÅ∞Ïù¥ ÏóÜÏäµÎãàÎã§.\");\n        setVoteLoading(null);\n        return;\n    }\n\n    try {\n        const response = await fetch(`${API_URL}/prompts/${promptId}/${voteType}`, {\n            method: 'POST',\n            headers: { 'Authorization': `Bearer ${token}` },\n        });\n\n        if (!response.ok) {\n            throw new Error(`${voteType === 'like' ? 'Ï¢ãÏïÑÏöî' : 'Ïã´Ïñ¥Ïöî'} Ï≤òÎ¶¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.`);\n        }\n\n        const updatedPrompt: Prompt = await response.json();\n        setPrompts(prevPrompts => \n            prevPrompts.map(p => p.id === updatedPrompt.id ? updatedPrompt : p)\n        );\n\n    } catch (err) {\n        setError((err as Error).message);\n    } finally {\n        setVoteLoading(null);\n    }\n  };\n\n  if (authLoading || (!user && !error)) {\n    return (\n      <>\n        <Header />\n        <main className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n          <p>Î°úÎî© Ï§ë...</p>\n        </main>\n        <Footer />\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Header />\n      <main className=\"min-h-screen bg-gray-100 py-12\">\n        <div className=\"container mx-auto p-4 max-w-6xl\">\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-8 text-center\">ÎÇ¥ ÌîÑÎ°¨ÌîÑÌä∏</h1>\n\n          {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n\n          {loading ? (\n            <p className=\"text-center text-gray-600\">ÌîÑÎ°¨ÌîÑÌä∏ Î∂àÎü¨Ïò§Îäî Ï§ë...</p>\n          ) : prompts.length === 0 ? (\n            <p className=\"text-center text-gray-600\">\n              ÏïÑÏßÅ ÏûëÏÑ±Ìïú ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.{' '}\n              <Link href=\"/upload\" className=\"text-[#9DB78C] hover:underline\">\n                ÏÉà ÌîÑÎ°¨ÌîÑÌä∏ ÏûëÏÑ±ÌïòÍ∏∞\n              </Link>\n            </p>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {prompts.map((prompt) => (\n                <div key={prompt.id} className=\"bg-white rounded-lg shadow-md p-6 flex flex-col justify-between hover:shadow-lg transition-shadow duration-200\">\n                    <div>\n                        <Link href={`/prompt-detail/${prompt.id}`} className=\"block\">\n                            <h3 className=\"text-xl font-semibold text-gray-900 mb-2 line-clamp-1 hover:text-[#9DB78C]\">{prompt.title}</h3>\n                        </Link>\n                        <p className=\"text-gray-600 text-sm line-clamp-3\">{prompt.content}</p>\n                    </div>\n                    <div className=\"mt-4 flex justify-between items-center text-gray-500 text-xs\">\n                        <span>{new Date(prompt.created_at).toLocaleDateString()}</span>\n                        <div className=\"flex items-center space-x-2\">\n                            <button\n                                onClick={(e) => { e.stopPropagation(); handleVote(prompt.id, 'like') }}\n                                disabled={voteLoading === prompt.id}\n                                className=\"flex items-center space-x-1 text-blue-500 hover:text-blue-700 disabled:opacity-50\"\n                            >\n                                <span>üëç</span>\n                                <span>{prompt.likes}</span>\n                            </button>\n                            <button\n                                onClick={(e) => { e.stopPropagation(); handleVote(prompt.id, 'dislike') }}\n                                disabled={voteLoading === prompt.id}\n                                className=\"flex items-center space-x-1 text-red-500 hover:text-red-700 disabled:opacity-50\"\n                            >\n                                <span>üëé</span>\n                                <span>{prompt.dislikes}</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n      <Footer />\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}